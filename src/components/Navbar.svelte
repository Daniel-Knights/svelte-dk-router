<script lang="ts">
    import { push, replace, SLink, setQuery, setParams, route } from '../router';

    let query: Record<string, string> = { id: '1', name: 'dan' },
        params: Record<string, string> = { id: '1', name: 'dan' },
        meta: Record<string, string> = { test: 'uowjkdwjndlkwjned' };
</script>

<style type="text/scss">
</style>

<header>
    <h1>Svelte Blog</h1>
    <nav>
        <SLink name={'home'} {query} {meta} replace={true}>Home</SLink>
        <SLink name={'about'}>About</SLink>
        <SLink path={'/blog'} {params} {meta}>Blog</SLink>
        <div on:click={async () => await push('/')}>Push</div>
        <div
            on:click={async () => {
                await replace({
                    path: '/blog',
                    params: { id: 'hello', name: 'knsckjsndc' },
                    meta: { whaddup: 'its ya boi' },
                });
            }}>
            Replace
        </div>
        <div
            on:click={() => {
                setQuery({ it: 'definitely works' });
                console.log(route);
            }}>
            Set Query
        </div>
        <div on:click={() => setQuery({ it: 'works' }, true)}>Update Query</div>
        <div on:click={() => setQuery({ definitely: 'works' }, true)}>Update Query</div>
        <div
            on:click={() => {
                setParams({ id: 'steve', name: 'iwjndkjwend' });
                console.log(route);
            }}>
            Set Params
        </div>
    </nav>
</header>
